<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>表单</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="format-detection" content="telephone=no">

		<link rel="stylesheet" href="./Include/plugins/layui/css/layui.css" media="all" />
		<link rel="stylesheet" href="./Include/plugins/font-awesome/css/font-awesome.min.css">
	</head>

	<body>

		<div style="margin: 15px;">
			<a href="./index.php?c=user&page=<?php echo $_GET['page']?>" class="">返回用户列表</a>
			<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
				<legend><?php echo $title ?></legend>
			</fieldset>
			<form class="layui-form" action="./index.php?c=user&a=<?php echo $action ?>&id=<?php echo $_GET['id']?>&page=<?php echo $_GET['page']?>" enctype="multipart/form-data" method="post">
				<div class="layui-form-item">
					<label class="layui-form-label">用户名</label>
					<div class="layui-input-block">
						<input type="text" name="username" class="layui-input" value="<?php echo $result[0]['username']?>" disabled style="border:0">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">真实姓名</label>
					<div class="layui-input-block">
						<input type="text" name="name" placeholder="真实姓名" autocomplete="off" class="layui-input" value="<?php echo isset($result[0]['name'])?$result[0]['name']:'' ?>" style="width:300px">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">头像</label>
					<div class="layui-input-inline">
						<input type="file" name="pic">
						<img src="<?php echo $result[0]['pic'] ?>" alt="无头像" class="layui-img" width="100" height="100" style="position:absolute;left: 300px;top:-5px">
						<!-- 隐藏传原头像 -->
						<input type="hidden" name="y_pic" value="<?php echo $result[0]['pic'] ?>">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">性别</label>
					<div class="layui-input-block">
<?php
	$man = $woman = $baomi= '';
	if(isset($result[0]['sex'])){
		switch ($result[0]['sex']) {
			case '0':
				$woman = 'checked';
				$man = $baomi= '';
				break;
			case '1':
				$man = 'checked';
				$woman = $baomi= '';
				break;
			case '2':
				$baomi = 'checked';
				$woman = $man= '';
				break;
			default:
				$man = $woman = $baomi= '';
				break;
		}
	}
?>
						<input type="radio" name="sex" value="1" title="男" <?php echo $man?>>
						<input type="radio" name="sex" value="0" title="女" <?php echo $woman?>>
						<input type="radio" name="sex" value="2" title="保密" <?php echo $baomi?>>
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">年龄</label>
					<div class="layui-input-inline">
						<input type="number" name="age" autocomplete="off" class="layui-input" value="<?php echo isset($result[0]['age'])?$result[0]['age']:'' ?>" style="width:300px">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">手机号码</label>
					<div class="layui-input-inline">
						<input type="number" name="phone" autocomplete="off" class="layui-input" value="<?php echo isset($result[0]['phone'])?$result[0]['phone']:'' ?>" style="width:300px">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">邮箱</label>
					<div class="layui-input-inline">
						<input type="email" name="email" autocomplete="off" class="layui-input" value="<?php echo isset($result[0]['email'])?$result[0]['email']:'' ?>" style="width:300px">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">爱好</label>
					<div class="layui-input-block">
<?php
	$a = $b = $c = $d = $e = $f = $g = $h = $i = $j = $k = $l = $m = '';

	if (!empty($result[0]['hobby'])) {
		$result[0]['hobby'] = explode(',',$result[0]['hobby']);
		// var_dump($result[0]['hobby']);
		if (in_array('1',$result[0]['hobby'])) {
			$a = 'checked';
		}
		if (in_array('2',$result[0]['hobby'])) {
			$b = 'checked';
		}
		if (in_array('3',$result[0]['hobby'])) {
			$c = 'checked';
		}
		if (in_array('4',$result[0]['hobby'])) {
			$d = 'checked';
		}
		if (in_array('5',$result[0]['hobby'])) {
			$e = 'checked';
		}
		if (in_array('6',$result[0]['hobby'])) {
			$f = 'checked';
		}
		if (in_array('7',$result[0]['hobby'])) {
			$g = 'checked';
		}
		if (in_array('8',$result[0]['hobby'])) {
			$h = 'checked';
		}
		if (in_array('9',$result[0]['hobby'])) {
			$i = 'checked';
		}
		if (in_array('10',$result[0]['hobby'])) {
			$j = 'checked';
		}
		if (in_array('11',$result[0]['hobby'])) {
			$k = 'checked';
		}
		if (in_array('12',$result[0]['hobby'])) {
			$l = 'checked';
		}
		if (in_array('13',$result[0]['hobby'])) {
			$m = 'checked';
		}
	}
?>
						<input type="checkbox" name="hobby[]" value= "1" <?php echo $a ?> title="图书/音像/数字商品">
						<input type="checkbox" name="hobby[]" value= "2" <?php echo $b ?> title="家用电器">
						<input type="checkbox" name="hobby[]" value= "3" <?php echo $c ?> title="手机/数码">
						<input type="checkbox" name="hobby[]" value= "4" <?php echo $d ?> title="电脑/办公">
						<input type="checkbox" name="hobby[]" value= "5" <?php echo $e ?> title="家居/家具/家装/厨具">
						<input type="checkbox" name="hobby[]" value= "6" <?php echo $f ?> title="服饰内衣/珠宝首饰">
						<input type="checkbox" name="hobby[]" value= "7" <?php echo $g ?> title="个护化妆">
						<input type="checkbox" name="hobby[]" value= "8" <?php echo $h ?> title="鞋靴/箱包/钟表/奢侈品">
						<input type="checkbox" name="hobby[]" value= "9" <?php echo $i ?> title="运动健康">
						<input type="checkbox" name="hobby[]" value= "10" <?php echo $j ?> title="汽车用品">
						<input type="checkbox" name="hobby[]" value= "11" <?php echo $k ?> title="母婴/玩具乐器">
						<input type="checkbox" name="hobby[]" value= "12" <?php echo $l ?> title="食品饮料/保健食品">
						<input type="checkbox" name="hobby[]" value= "13" <?php echo $m ?> title="彩票/旅行/充值/票务">
					</div>
				</div>
				<div class="layui-form-item layui-form-text">
					<label class="layui-form-label">地址</label>
					<div class="layui-input-block">
						<textarea placeholder="请输入地址" class="layui-textarea" name="address"><?php echo isset($result[0]['address'])?$result[0]['address']:'' ?></textarea>
					</div>
				</div>
				<div class="layui-form-item">
					<div class="layui-input-block">
						<button class="layui-btn" lay-submit="" ><?php echo $submit?></button>
						<button type="reset" class="layui-btn layui-btn-primary">重置</button>
					</div>
				</div>
			</form>
		</div>
		<script type="text/javascript" src="./Include/plugins/layui/layui.js"></script>
		<script>
			layui.use(['form', 'layedit', 'laydate'], function() {
				var form = layui.form(),
					layer = layui.layer,
					layedit = layui.layedit,
					laydate = layui.laydate;

				//创建一个编辑器
				var editIndex = layedit.build('LAY_demo_editor');
				//自定义验证规则
				form.verify({
					title: function(value) {
						if(value.length < 5) {
							return '标题至少得5个字符啊';
						}
					},
					pass: [/(.+){6,12}$/, '密码必须6到12位'],
					content: function(value) {
						layedit.sync(editIndex);
					}
				});

				//监听提交
				form.on('submit(demo1)', function(data) {
					layer.alert(JSON.stringify(data.field), {
						title: '最终的提交信息'
					})
					return false;
				});
			});
		</script>
	</body>

</html>